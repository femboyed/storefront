[{"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\api\\checkout.ts":"1","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\cancel.tsx":"2","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\index.tsx":"3","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\success.tsx":"4","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\_app.tsx":"5","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\context\\CartContext.tsx":"6","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\Header.tsx":"7","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\ProductCard.tsx":"8"},{"size":1090,"mtime":1725542194594,"results":"9","hashOfConfig":"10"},{"size":184,"mtime":1725545118021,"results":"11","hashOfConfig":"10"},{"size":2209,"mtime":1725544779788,"results":"12","hashOfConfig":"10"},{"size":191,"mtime":1725542194595,"results":"13","hashOfConfig":"10"},{"size":1001,"mtime":1725542757307,"results":"14","hashOfConfig":"10"},{"size":354,"mtime":1725542194589,"results":"15","hashOfConfig":"10"},{"size":7736,"mtime":1725544753239,"results":"16","hashOfConfig":"10"},{"size":2352,"mtime":1725545085326,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ixm42a",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\api\\checkout.ts",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\cancel.tsx",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\index.tsx",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\success.tsx",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\pages\\_app.tsx",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\context\\CartContext.tsx",[],[],"C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\Header.tsx",["44"],[],"import {FunctionComponent, useContext} from \"react\";\r\nimport { Fragment } from 'react'\r\nimport { SearchIcon, ShoppingBagIcon } from '@heroicons/react/outline'\r\nimport { Popover, Transition } from '@headlessui/react'\r\nimport CartContext from \"./context/CartContext\";\r\nimport {Stripe} from \"stripe\";\r\nimport {getPriceTotal, getProductDescription, getProductImage, getProductName} from \"../utils/computed\";\r\n\r\nconst Header: FunctionComponent = () => {\r\n    const {items, remove} = useContext(CartContext);\r\n    const removeFromCart = (priceID: string) => {\r\n        if(remove) {\r\n            remove(priceID)\r\n        }\r\n    }\r\n\r\n    const checkout = async () => {\r\n\r\n        const lineItems = items?.map(price => {\r\n            return {\r\n                price: price.id,\r\n                quantity: 1\r\n            };\r\n        });\r\n\r\n        const res = await fetch('/api/checkout', {\r\n            method: 'POST',\r\n            body: JSON.stringify({lineItems: lineItems})\r\n        });\r\n\r\n        const b = await res.json()\r\n        window.location.href = b.session.url;\r\n\r\n\r\n        // const session = await stripe.checkout.sessions.create({\r\n        //     success_url: 'http://localhost:3000/success',\r\n        //     cancel_url: 'http://localhost:3000/cancel',\r\n        //     line_items: lineItems,\r\n        //     mode: 'payment',\r\n        // });\r\n\r\n        // console.log('here')\r\n    }\r\n\r\n    return (\r\n        <header className=\"relative bg-white dark:bg-gray-800\">\r\n            <nav aria-label=\"Top\" className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\r\n                <div className=\"relative px-4 pb-14 sm:static sm:px-0 sm:pb-0\">\r\n                    <div className=\"h-16 flex items-center justify-between\">\r\n                        {/* Logo */}\r\n                        <div className=\"flex-1 flex\">\r\n                            <a href=\"#\" className=\"text-gray-900 dark:text-white\">\r\n                                meowrgh.pl\r\n                            </a>\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 flex items-center justify-end\">\r\n                            {/* Cart */}\r\n                            <Popover className=\"ml-4 flow-root text-sm lg:relative lg:ml-8 z-50\">\r\n                                <Popover.Button className=\"group -m-2 p-2 flex items-center\">\r\n                                    <ShoppingBagIcon\r\n                                        className=\"flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500 dark:text-gray-300 dark:group-hover:text-gray-200\"\r\n                                        aria-hidden=\"true\"\r\n                                    />\r\n                                    <span className=\"ml-2 text-sm font-medium text-gray-700 group-hover:text-gray-800 dark:text-gray-300 dark:group-hover:text-gray-200\">{items?.length}</span>\r\n                                    <span className=\"sr-only\">items in cart, view bag</span>\r\n                                </Popover.Button>\r\n                                <Transition\r\n                                    as={Fragment}\r\n                                    enter=\"transition ease-out duration-200\"\r\n                                    enterFrom=\"opacity-0\"\r\n                                    enterTo=\"opacity-100\"\r\n                                    leave=\"transition ease-in duration-150\"\r\n                                    leaveFrom=\"opacity-100\"\r\n                                    leaveTo=\"opacity-0\"\r\n                                >\r\n                                    <Popover.Panel className=\"absolute top-16 inset-x-0 mt-px pb-6 bg-white dark:bg-gray-700 shadow-lg sm:px-2 lg:top-full lg:left-auto lg:right-0 lg:mt-3 lg:-mr-1.5 lg:w-80 lg:rounded-lg lg:ring-1 lg:ring-black lg:ring-opacity-5 dark:ring-white dark:ring-opacity-10\">\r\n                                        <h2 className=\"sr-only\">Shopping Cart</h2>\r\n\r\n                                        <div className=\"max-w-2xl mx-auto px-4\">\r\n                                            <ul role=\"list\" className=\"divide-y divide-gray-200 dark:divide-gray-600\">\r\n                                                {items?.map((price) => (\r\n                                                    <li key={price.id} className=\"py-6 flex\">\r\n                                                        <div className=\"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden dark:border-gray-600\">\r\n                                                            <img\r\n                                                                src={getProductImage(price.product)}\r\n                                                                alt={getProductDescription(price.product)}\r\n                                                                className=\"w-full h-full object-center object-cover\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"ml-4 flex-1 flex flex-col\">\r\n                                                            <div>\r\n                                                                <div className=\"flex justify-between text-base font-medium text-gray-900 dark:text-gray-100\">\r\n                                                                    <h3>\r\n                                                                        {getProductName(price.product)}\r\n                                                                    </h3>\r\n                                                                    <p className=\"ml-4\">${getPriceTotal(price)}</p>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"flex-1 flex items-end justify-between text-sm\">\r\n                                                                <div className=\"flex\">\r\n                                                                    <button onClick={e => removeFromCart(price.id)} type=\"button\" className=\"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300\">\r\n                                                                        Remove\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </li>\r\n\r\n                                                ))}\r\n                                            </ul>\r\n\r\n                                            <button\r\n                                                onClick={checkout}\r\n                                                className=\"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600\"\r\n                                            >\r\n                                                Checkout\r\n                                            </button>\r\n                                        </div>\r\n                                    </Popover.Panel>\r\n                                </Transition>\r\n                            </Popover>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","C:\\Users\\jay\\Desktop\\stripe-nextjs-ecommerce\\components\\ProductCard.tsx",["45"],[],"import {FunctionComponent, useContext} from \"react\";\r\nimport Stripe from \"stripe\";\r\nimport CartContext from \"./context/CartContext\";\r\nimport {getPriceTotal, getProductDescription, getProductImage, getProductName} from \"../utils/computed\";\r\n\r\ntype CardProps = {\r\n    price: Stripe.Price\r\n}\r\n\r\nconst ProductCard: FunctionComponent<CardProps> = ({ price }) => {\r\n    const { add } = useContext(CartContext);\r\n\r\n    const addToCart = (p: Stripe.Price) => {\r\n        if (add) {\r\n            add(p);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-transparent rounded-lg shadow-md\">\r\n            <div className=\"relative\">\r\n                <div className=\"relative w-full h-72 rounded-lg overflow-hidden\">\r\n                    <img\r\n                        src={getProductImage(price.product)}\r\n                        alt={getProductDescription(price.product)}\r\n                        className=\"w-full h-full object-center object-cover\"\r\n                    />\r\n                </div>\r\n                <div className=\"relative mt-4\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\r\n                        {getProductName(price.product)}\r\n                    </h3>\r\n                </div>\r\n                <div className=\"absolute top-0 inset-x-0 h-72 rounded-lg p-4 flex items-end justify-end overflow-hidden\">\r\n                    <div\r\n                        aria-hidden=\"true\"\r\n                        className=\"absolute inset-x-0 bottom-0 h-36 bg-gradient-to-t from-black opacity-50\"\r\n                    />\r\n                    <p className=\"relative text-lg font-semibold text-white\">\r\n                        {getPriceTotal(price)}z≈Ç\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-6\">\r\n                <button\r\n                    onClick={() => addToCart(price)}\r\n                    className=\"relative w-full flex bg-gray-200 border border-transparent rounded-md py-2 px-8 items-center justify-center text-sm font-medium text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600\">\r\n                    Add to bag<span className=\"sr-only\">, {getProductName(price.product)}</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;\r\n",{"ruleId":"46","severity":1,"message":"47","line":85,"column":61,"nodeType":"48","endLine":89,"endColumn":63},{"ruleId":"46","severity":1,"message":"47","line":23,"column":21,"nodeType":"48","endLine":27,"endColumn":23},"@next/next/no-img-element","Do not use <img>. Use Image from 'next/image' instead. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement"]